(()=>{"use strict";async function e(e){let t=await async function(e){let t=await fetch("https://api.openweathermap.org/data/2.5/weather?q="+e+"&units=metric&appid=9699f8ffb523c0357e91993241fa9691",{mode:"cors"});return await t.json()}(e);return{name:t.name,temperature:t.main.temp,feeling:t.main.feels_like,humidity:t.main.humidity,weather:t.weather[0].main,lat:t.coord.lat,lon:t.coord.lon}}async function t(t){let n=await e(t),a=document.getElementById("name"),i=document.getElementById("weather"),r=document.getElementById("temperature"),o=document.getElementById("feeling"),c=document.getElementById("humidity");a.innerHTML='<img src="img/location.png" alt="location">'+n.name,i.innerHTML=function(e){return"Clear"==e?'<img src="img/sun.svg" alt="location">':"Rain"==e?'<img src="img/cloud-rain.svg" alt="location">':"Clouds"==e?'<img src="img/cloud.svg" alt="location">':"Snow"==e?'<img src="img/cloud-snow.svg" alt="location">':void 0}(n.weather),r.innerHTML=Math.round(n.temperature)+"℃",o.innerHTML=Math.round(n.feeling),c.innerHTML=n.humidity;let l=await async function(t){let n=await async function(t){let n=await e(t),a=n.lat,i=n.lon,r=await fetch("https://api.openweathermap.org/data/2.5/forecast?lat="+a+"&lon="+i+"&units=metric&appid=9699f8ffb523c0357e91993241fa9691",{mode:"cors"}),o=await r.json();return console.log(o),o}(t);function a(e,t,n){this.temperature=e,this.weather=t,this.timestamp=n}let i=[];for(let e=0;e<40;e+=8){let t=new a(Math.round(n.list[e].main.temp),n.list[e].weather[0].main,n.list[e].dt);i.push(t)}return i}(t);console.log(l);let d=document.getElementById("forecast-container");l.forEach((e=>{let t=`<div id="card">\n                                <div id="card-day">${new Date(1e3*e.timestamp).toLocaleString("en-us",{weekday:"long"})}</div>\n                                <div id="card-weather" class="card-weather">${e.weather}</div>\n                                <div id="card-temperature">${e.temperature} ℃</div>\n                            </div>`;d.innerHTML+=t})),document.querySelectorAll(".card-weather").forEach((e=>{"Clear"==e.innerHTML?e.innerHTML='<img src="img/sun.svg" alt="location">':"Rain"==e.innerHTML?e.innerHTML='<img src="img/cloud-rain.svg" alt="location">':"Clouds"==e.innerHTML?e.innerHTML='<img src="img/cloud.svg" alt="location">':"Snow"==e.innerHTML&&(e.innerHTML='<img src="img/cloud-snow.svg" alt="location">')}))}window.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("#click");let n=document.getElementById("search");e.addEventListener("click",(()=>{t(n.value)}))}))})();